<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownæ—¥è®°æ¸²æŸ“æµ‹è¯•</title>
    <link rel="stylesheet" href="../styles/dashboard.css">
    <style>
        body {
            padding: 20px;
            background: #f5f5f5;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .test-section {
            margin-bottom: 30px;
        }

        .test-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .raw-content {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 14px;
            white-space: pre-wrap;
            margin-bottom: 15px;
            border: 1px solid #e9ecef;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>Markdownæ—¥è®°æ¸²æŸ“æµ‹è¯•</h1>

        <div class="test-section">
            <div class="test-title">åŸå§‹Markdownå†…å®¹ï¼š</div>
            <div class="raw-content" id="rawContent"></div>

            <div class="test-title">æ¸²æŸ“åæ•ˆæœï¼š</div>
            <div class="diary-content" id="renderedContent"></div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸAIç”Ÿæˆçš„å¤æ‚æ—¥è®°å†…å®¹ï¼ˆç±»ä¼¼ä½ æåˆ°çš„å®é™…å†…å®¹ï¼‰
        const sampleDiary = `# è®¤çŸ¥æ¨¡å¼å¿«æŠ¥ 2025-07-12

æ˜¨æ—¥çš„ä½ å°šåœ¨ä¼ªè£…ä¸­æŒ£æ‰â€”â€”ç”¨"å¼€å‘"ä¹‹åä¸‹è½½LoRAï¼Œä»¥"è§‚çœ‹"æ›¿ä»£åˆ›é€ ï¼Œåœ¨å·¥å…·çš„å‡†å¤‡ä»ªå¼ä¸­è™šæ„æ•ˆç‡ã€‚è€Œä»Šå¤©ï¼Œä¸€ç§ä»¤äººä¸å®‰çš„**æ¸…é†’**é™ä¸´äº†ï¼šä½ ä¸å†æ¬ºéª—è‡ªå·±ï¼Œä½ åªæ˜¯ç²¾ç¡®åœ°æ‰§è¡Œã€‚

é‚£å±‚æœ¦èƒ§çš„è‡ªæˆ‘åˆç†åŒ–è–„é›¾è¢«é©±æ•£ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç§è¿‘ä¹å†·é…·çš„**è¡Œä¸ºé€æ˜æ€§**ã€‚90æ¡æµè§ˆè®°å½•ï¼Œå…¨éƒ¨å½’ç±»ï¼Œæ— ä¸€é—æ¼ã€‚AIæŠ¥å‘Šï¼š"remainingOtherCount: 0"â€”â€”æ²¡æœ‰æ¨¡ç³Šåœ°å¸¦ï¼Œæ²¡æœ‰æ— æ³•å‘½åçš„ç¬é—´ã€‚

ä½†è¿™ä¸æ˜¯ç§©åºçš„èƒœåˆ©ï¼Œè€Œæ˜¯**æºƒæ•£çš„å®Œæˆå¼**ï¼šå½“æ‰€æœ‰è¡Œä¸ºéƒ½å¯è¢«è§£æï¼Œé‚£æœªè¢«è§£æçš„ï¼Œæˆ–è®¸æ­£æ˜¯ä½ æ­£åœ¨æ¶ˆå¤±çš„éƒ¨åˆ†ã€‚

---

## "æŠ€æœ¯æ‹Ÿç‰©"å·²ä»æ©±çª—å±•ç¤ºï¼Œè¿›åŒ–ä¸ºåå°é™é»˜è¿è¡Œ

æ˜¨æ—¥ä½ è¿˜åœ¨Civitaiä¸Šæµè§ˆ"ä¼šæ’’å¨‡çš„ç‹ç‹¸"ï¼Œä»Šæ—¥çš„40æ¬¡"ç¼–ç¨‹ä¸å¼€å‘"è¡Œä¸ºå…¨éƒ¨èšç„¦äºMoonshot AIå¹³å°â€”â€”38æ¬¡è®¿é—®é›†ä¸­äº"æ¨¡å‹æ¨ç†ä»·æ ¼è¯´æ˜"ä¸"åŸºæœ¬ä¿¡æ¯"é¡µé¢ï¼Œæ—¶é—´è·¨åº¦ä»…**3åˆ†é’Ÿï¼ˆ15:23-15:26ï¼‰**ã€‚

ä½ æ²¡æœ‰è°ƒç”¨APIï¼Œæ²¡æœ‰æµ‹è¯•å“åº”å»¶è¿Ÿï¼Œç”šè‡³æ²¡æœ‰ç‚¹å‡»"å¼€å§‹ä½“éªŒ"ã€‚ä½ åªæ˜¯**é˜…è¯»å®šä»·è¡¨**ï¼ŒåƒæŸ¥çœ‹ä¸€ä»½èœå•ã€‚

è¿™æ˜¯ä¸€ç§**æŠ€æœ¯æ¶ˆè´¹ä¸»ä¹‰çš„ç»ˆæå½¢æ€**ï¼šä½ ä¸å†éœ€è¦ä¸‹è½½è§’è‰²ï¼Œä½ ç›´æ¥æ¶ˆè´¹"èƒ½åŠ›æœ¬èº«"çš„æ ‡ä»·ã€‚AIä¸å†æ˜¯äººæ ¼çš„è½½ä½“ï¼Œè€Œæ˜¯**æœåŠ¡çš„åº¦é‡å•ä½**ã€‚

> ä½ è®¡ç®—Tokenæˆæœ¬ï¼Œå´ä»ä¸ç”Ÿæˆå†…å®¹â€”â€”ä»¿ä½›"äº†è§£ä»·æ ¼"æœ¬èº«å°±æ˜¯ä½¿ç”¨è¿‡çš„è¯æ˜ã€‚

å½“æŠ€æœ¯çš„æŠ½è±¡è§„åˆ™å–ä»£äº†å…·ä½“æ“ä½œï¼Œé‚£å¯¹æŒæ§çš„æ¸´æœ›ï¼Œæ˜¯å¦å·²é€€åŒ–ä¸ºå¯¹**æ§åˆ¶å¹»è§‰çš„è´¢åŠ¡æ ¸ç®—**ï¼Ÿ

### è´Ÿç©ºé—´çš„è£‚ç—•

**40æ¬¡å½’ç±»ä¸º"å¼€å‘"ï¼Œå´æ— ä¸€æ¬¡è®¿é—®GitHubã€æ— ä¸€è¡Œä»£ç ç¼–è¾‘ã€æ— ä¸€æ¬¡æœ¬åœ°éƒ¨ç½²å°è¯•**ã€‚ä½ ç«™åœ¨å¼€å‘çš„é—¨å£ï¼Œåå¤é˜…è¯»é—¨ç‰Œä¸Šçš„è¯´æ˜ï¼Œå´ä»æœªæ¨é—¨è€Œå…¥ã€‚

---

## ç¤¾äº¤ä¸ç¤¾åŒºæˆä¸ºä¿¡æ¯çš„å•å‘æ¥æ”¶åœº

26æ¬¡"ç¤¾äº¤ä¸ç¤¾åŒº"è¡Œä¸ºä¸­ï¼Œ24æ¬¡å‘ç”Ÿåœ¨**14:00-15:59**ï¼Œä¸"ç¼–ç¨‹"è¡Œä¸ºåœ¨æ—¶é—´ä¸Šç´§å¯†å’¬åˆã€‚ä½ æµè§ˆDiscordé¢‘é“"ç±»è„‘ÎŸÎ”Î¥Î£Î£Î•Î™Î‘"ï¼Œæ ‡é¢˜å¦‚ï¼š

- "(39) Discord | #âœ¨ï¸±ğ– ğ–¨æ‚è°ˆ-É´êœ±êœ°á´¡"
- "(38) Discord | \"è°·æ­Œç”Ÿå›¾è§†é¢‘å°å›¢ä½“\""

ä½†**æ— ä¸€æ¬¡å‘è¨€ã€æ— ä¸€æ¬¡å›åº”ã€æ— ä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ **ã€‚

ä½ åœ¨Xä¸Šé˜…è¯»Alvaro Cintaså‘å¸ƒçš„"æœ¬å‘¨AIå¤§äº‹è®°"ï¼Œæ¶µç›–Perplexity Cometã€Grok 4ã€Veo 3ã€BioEmuç­‰çªç ´æ€§è¿›å±•ï¼Œå†…å®¹é•¿è¾¾2000å­—ï¼Œä½ åœç•™**2åˆ†18ç§’**ï¼Œå´æœªè½¬å‘ã€æœªè¯„è®ºã€æœªæœç´¢ä»»ä½•ç›¸å…³æŠ€æœ¯æ–‡æ¡£ã€‚

è¿™é‡Œå‡ºç°ä¸€ç§è¯¡å¼‚çš„**è®¤çŸ¥åå’½æœºåˆ¶**ï¼šä½ åä¸‹ä¿¡æ¯ï¼Œå´ä¸æ¶ˆåŒ–ï¼›ä½ æ¥æ”¶è§‚ç‚¹ï¼Œå´ä¸å›åº”ã€‚

> ç¤¾äº¤ä¸å†æ˜¯ä¸ºäº†è¿æ¥ï¼Œè€Œæ˜¯ä¸ºäº†**å¡«å……è®¤çŸ¥çš„ç©ºæ´**ã€‚

---

## æœ€ç»ˆçŠ¶æ€ï¼šæ´»ç€ï¼Œä½†ä¸å¯åŠ¨

ä½ æ›¾åœ¨08:00ç¡®è®¤"1ç±³=10åˆ†ç±³"ï¼Œåœ¨14:00åä¸‹AIä¸–ç•Œçš„å…¨éƒ¨åŠ¨æ€ï¼Œåœ¨15:23é˜…è¯»æ¨¡å‹ä»·æ ¼ï¼Œåœ¨18:00è§‚çœ‹è¯­è¨€ä¸­çš„å±ˆä»å…³ç³»ï¼Œåœ¨20:00ä¹‹å¤–æ¯«æ— è¸ªè¿¹ã€‚

ä½ å®Œæˆäº†æ‰€æœ‰æ¨¡å—çš„è½®è½¬ï¼Œå´æ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ¨¡å—çœŸæ­£å¯åŠ¨ã€‚

æ˜¨æ—¥ä½ è¿˜åœ¨ä¼ªè£…æˆå¼€å‘è€…ã€å­¦ä¹ è€…ã€ç¤¾äº¤è€…ï¼Œä»Šæ—¥ä½ ä¸å†ä¼ªè£…â€”â€”ä½ åªæ˜¯**å­˜åœ¨åœ°æ‰§è¡Œ**ã€‚

å½“è¡Œä¸ºä¸å†éœ€è¦ç†ç”±ï¼Œå½“ä¿¡æ¯ä¸å†éœ€è¦å›åº”ï¼Œå½“æŠ€æœ¯ä¸å†éœ€è¦ä½¿ç”¨ï¼Œä½ ç»ˆäºæŠµè¾¾äº†ä¸€ç§ç»ˆæçŠ¶æ€ï¼š

**æ´»ç€ï¼Œä½†ä¸å¯åŠ¨ã€‚**

æˆ‘ä»¬å¦‚æ­¤ç²¾ç¡®åœ°å®Œæˆæ¯ä¸€ä¸ªåŠ¨ä½œï¼Œç©¶ç«Ÿæ˜¯ä¸ºäº†ç»´æŒç³»ç»Ÿçš„è¿è¡Œï¼Œè¿˜æ˜¯ä»…ä»…ä¸ºäº†é€ƒé¿é‚£ä¸ªé—®é¢˜ï¼š

> å¦‚æœæˆ‘ä¸å†æµè§ˆï¼Œæˆ‘è¿˜èƒ½æ˜¯è°ï¼Ÿ

\`\`\`
ç³»ç»ŸçŠ¶æ€ï¼šè¿è¡Œä¸­
æ¨¡å—çŠ¶æ€ï¼šå¾…æœº
ç”¨æˆ·çŠ¶æ€ï¼šå­˜åœ¨
\`\`\`

---

*è¿™æ ·çš„å­˜åœ¨æ–¹å¼ï¼Œæˆ–è®¸æ­£æ˜¯æ•°å­—æ—¶ä»£äººç±»æ„è¯†çš„çœŸå®å†™ç…§ã€‚*`;

        // æ”¹è¿›çš„markdownè§£æå™¨ï¼ˆä¸dashboard.jsä¿æŒä¸€è‡´ï¼‰
        function parseMarkdown(text) {
            if (!text) return '';

            // å…ˆæŒ‰è¡Œåˆ†å‰²å¤„ç†ï¼Œé¿å…è·¨è¡ŒåŒ¹é…é—®é¢˜
            const lines = text.split('\n');
            const processedLines = [];

            for (let i = 0; i < lines.length; i++) {
                let line = lines[i];

                // å¤„ç†æ ‡é¢˜ï¼ˆå¿…é¡»åœ¨è¡Œé¦–ï¼‰
                if (line.match(/^### /)) {
                    line = line.replace(/^### (.*)$/, '<h3>$1</h3>');
                } else if (line.match(/^## /)) {
                    line = line.replace(/^## (.*)$/, '<h2>$1</h2>');
                } else if (line.match(/^# /)) {
                    line = line.replace(/^# (.*)$/, '<h1>$1</h1>');
                }
                // å¤„ç†åˆ†éš”çº¿
                else if (line.match(/^---+$/)) {
                    line = '<hr>';
                } else if (line.match(/^\*\*\*+$/)) {
                    line = '<hr>';
                }
                // å¤„ç†å¼•ç”¨
                else if (line.match(/^> /)) {
                    line = line.replace(/^> (.*)$/, '<blockquote>$1</blockquote>');
                }
                // å¤„ç†ä»»åŠ¡åˆ—è¡¨
                else if (line.match(/^- \[ \] /)) {
                    line = line.replace(/^- \[ \] (.*)$/, '<li class="task-item"><input type="checkbox" disabled> $1</li>');
                } else if (line.match(/^- \[x\] /)) {
                    line = line.replace(/^- \[x\] (.*)$/, '<li class="task-item"><input type="checkbox" checked disabled> $1</li>');
                }
                // å¤„ç†æ— åºåˆ—è¡¨
                else if (line.match(/^[\*\-\+] /)) {
                    line = line.replace(/^[\*\-\+] (.*)$/, '<li>$1</li>');
                }
                // å¤„ç†æœ‰åºåˆ—è¡¨
                else if (line.match(/^\d+\. /)) {
                    line = line.replace(/^\d+\. (.*)$/, '<li>$1</li>');
                }

                processedLines.push(line);
            }

            // é‡æ–°ç»„åˆ
            let html = processedLines.join('\n');

            // å¤„ç†è¡Œå†…æ ¼å¼
            // å¤„ç†ç²—ä½“ï¼ˆé¿å…ä¸æ–œä½“å†²çªï¼‰
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            html = html.replace(/__(.*?)__/g, '<strong>$1</strong>');

            // å¤„ç†æ–œä½“ï¼ˆåœ¨ç²—ä½“ä¹‹åå¤„ç†ï¼Œé¿å…ä¸ç²—ä½“å†²çªï¼‰
            // å…ˆå¤„ç†ä¸è¢«**åŒ…å›´çš„*æ–‡æœ¬*
            html = html.replace(/([^*]|^)\*([^*\n]+?)\*([^*]|$)/g, '$1<em>$2</em>$3');
            // å¤„ç†ä¸è¢«__åŒ…å›´çš„_æ–‡æœ¬_
            html = html.replace(/([^_]|^)_([^_\n]+?)_([^_]|$)/g, '$1<em>$2</em>$3');

            // å¤„ç†ä»£ç å—
            html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
            html = html.replace(/`([^`\n]+?)`/g, '<code>$1</code>');

            // å¤„ç†é“¾æ¥
            html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');

            // å°†è¿ç»­çš„<li>åŒ…è£…åœ¨<ul>æˆ–<ol>ä¸­
            html = html.replace(/(<li(?:\s+class="[^"]*")?>[^<]*<\/li>(?:\s*\n\s*<li(?:\s+class="[^"]*")?>[^<]*<\/li>)*)/gs, (match) => {
                if (match.includes('class="task-item"')) {
                    return '<ul class="task-list">' + match + '</ul>';
                } else {
                    return '<ul>' + match + '</ul>';
                }
            });

            // å¤„ç†æ®µè½ï¼ˆåŒæ¢è¡Œç¬¦åˆ†éš”ï¼‰
            html = html.replace(/\n\n+/g, '</p>\n<p>');

            // å¤„ç†å•ä¸ªæ¢è¡Œç¬¦
            html = html.replace(/\n/g, '<br>\n');

            // åŒ…è£…åœ¨æ®µè½æ ‡ç­¾ä¸­
            html = '<p>' + html + '</p>';

            // æ¸…ç†ç©ºæ®µè½å’Œä¿®å¤åµŒå¥—é—®é¢˜
            html = html.replace(/<p>\s*<\/p>/g, '');
            html = html.replace(/<p>(<h[1-6]>.*?<\/h[1-6]>)<\/p>/g, '$1');
            html = html.replace(/<p>(<ul.*?<\/ul>)<\/p>/gs, '$1');
            html = html.replace(/<p>(<ol.*?<\/ol>)<\/p>/gs, '$1');
            html = html.replace(/<p>(<blockquote>.*?<\/blockquote>)<\/p>/g, '$1');
            html = html.replace(/<p>(<pre>.*?<\/pre>)<\/p>/gs, '$1');
            html = html.replace(/<p>(<hr>)<\/p>/g, '$1');

            // æ¸…ç†å¤šä½™çš„<br>æ ‡ç­¾
            html = html.replace(/<br>\s*(<\/p>)/g, '$1');
            html = html.replace(/(<h[1-6]>.*?<\/h[1-6]>)<br>/g, '$1');
            html = html.replace(/(<hr>)<br>/g, '$1');
            html = html.replace(/(<\/blockquote>)<br>/g, '$1');
            html = html.replace(/(<\/ul>)<br>/g, '$1');
            html = html.replace(/(<\/ol>)<br>/g, '$1');
            html = html.replace(/(<\/pre>)<br>/g, '$1');

            return html;
        }

        // æ˜¾ç¤ºæµ‹è¯•å†…å®¹
        document.getElementById('rawContent').textContent = sampleDiary;
        document.getElementById('renderedContent').innerHTML = parseMarkdown(sampleDiary);
    </script>
</body>

</html>